{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hii\\\\Desktop\\\\Manager\\\\manager\\\\src\\\\components\\\\Page3.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport './css/Page3.css';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Page3 = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [isStopped, setIsStopped] = useState(false);\n  const {\n    id\n  } = useParams();\n  const [currentIdIndex, setCurrentIdIndex] = useState(0);\n  const [list, setList] = useState([]);\n  const [concatenatedString, setConcatenatedString] = useState('');\n  const [availableIndexes, setAvailableIndexes] = useState([]); // Mảng lưu trữ các index có sẵn\n  const [currentAvailableIndex, setCurrentAvailableIndex] = useState(0);\n  const [loaded, setLoaded] = useState(false); // Biến đánh dấu đã tải dữ liệu hay chưa\n  const [prizeData, setPrizeData] = useState(null);\n  const handleConfirmation = () => {\n    const isConfirmed = window.confirm('Bạn có chắc chắn muốn tiếp tục không?');\n    if (isConfirmed) {\n      console.log('Người dùng đã xác nhận.');\n    } else {\n      console.log('Người dùng đã hủy bỏ.');\n    }\n  };\n  useEffect(() => {\n    const fetchPrizeData = async () => {\n      try {\n        const response = await fetch('https://lotteryapi20231223201647.azurewebsites.net/api/Prize/' + id); // Thay đổi URL của API theo đúng đường dẫn của bạn\n        if (!response.ok) {\n          throw new Error('Failed to fetch prize data');\n        }\n        const prize = await response.json();\n        await setPrizeData(prize);\n        if (prize.members.length > 0) {\n          setList(prize.members);\n        }\n      } catch (error) {\n        console.error('Error fetching prize data:', error.message);\n      }\n    };\n    fetchPrizeData();\n  }, []);\n  useEffect(() => {\n    // Chỉ tải dữ liệu nếu loaded là false\n    if (!loaded) {\n      const fetchData = async () => {\n        try {\n          const response = await fetch('https://lotteryapi20231223201647.azurewebsites.net//api/Member/TestSheet');\n          if (!response.ok) {\n            throw new Error('Failed to fetch data');\n          }\n          const result = await response.json();\n          setData(result);\n          setAvailableIndexes(Array.from({\n            length: result.length\n          }, (_, index) => index));\n          setLoaded(true); // Đặt loaded thành true sau khi tải dữ liệu\n        } catch (error) {\n          console.error('Error fetching data:', error.message);\n        }\n      };\n      fetchData();\n    }\n  }, [loaded]);\n  useEffect(() => {\n    // Tạo interval để chuyển đổi id mỗi giây\n    const intervalId = setInterval(() => {\n      if (availableIndexes.length > 0) {\n        const randomIndex = Math.floor(Math.random() * availableIndexes.length);\n        setCurrentIdIndex(availableIndexes[randomIndex]);\n        setCurrentAvailableIndex(randomIndex);\n      } else {\n        setAvailableIndexes(Array.from({\n          length: data.length\n        }, (_, index) => index));\n      }\n    }, 100);\n    return () => clearInterval(intervalId);\n  }, [availableIndexes]);\n  if (!prizeData) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }, this);\n  }\n  const updateData = async (memberId, prizeId) => {\n    try {\n      const response = await fetch(`https://lotteryapi20231223201647.azurewebsites.net//api/Prize/${memberId}/${prizeId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update data');\n      }\n      console.log('Data updated successfully');\n    } catch (error) {\n      console.error('Error updating data:', error.message);\n    }\n  };\n  const delay = milliseconds => new Promise(resolve => setTimeout(resolve, milliseconds));\n  const handleConcatenate = async () => {\n    setLoading(true);\n    if (list.length < prizeData.quantity) {\n      await setList(prevList => [...prevList, data[currentIdIndex]]);\n      await updateData(data[currentIdIndex].id, id);\n      await setAvailableIndexes(prevIndexes => {\n        const newIndexes = [...prevIndexes];\n        newIndexes.splice(currentAvailableIndex, 1);\n        return newIndexes;\n      });\n      const randomIndex = Math.floor(Math.random() * availableIndexes.length);\n      await setCurrentIdIndex(availableIndexes[randomIndex]);\n      await setCurrentAvailableIndex(randomIndex);\n    } else {\n      toast('Đã đủ giải thưởng');\n    }\n    setLoading(false);\n  };\n  // if (prizeData.quantity === prizeData.members.length) {\n  //     return (\n  //         <div className='bodyPage3'>\n  //             <Header />\n  //             <div className='mainPage3'>\n  //                 <h2>Số phần thưởng đã hết</h2>\n  //             </div>\n  //         </div>\n  //     );\n  // } else\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bodyPage3\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainPage3\",\n      children: [prizeData.quantity <= list.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divcao\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 55\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"h21giai\",\n        children: prizeData.prizeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [prizeData.prizeDescription, \" (S\\u1ED1 l\\u01B0\\u1EE3ng: \", prizeData.quantity, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"imgPrize\",\n        src: prizeData.imageLink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [data.length > 0 && data[currentIdIndex].memberName, \" - \", data.length > 0 && data[currentIdIndex].phoneNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 54\n      }, this), !loading && prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleConcatenate,\n        children: \"D\\u1EEBng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 66\n      }, this), loading && prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"D\\u1EEBng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 65\n      }, this), prizeData.quantity < 5 && prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listWin\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: list.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"listwindiv\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"sttlw\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"namelw\",\n                children: item.memberName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: item.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 33\n            }, this)\n          }, index.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 80\n      }, this), prizeData.quantity < 5 && prizeData.quantity <= list.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listWinec\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: list.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"listwindiv\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"sttlw\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"namelw\",\n                children: item.memberName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: item.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this)\n          }, index.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 81\n      }, this), prizeData.quantity > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"win10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"win5\",\n          children: [list[0] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"1.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[0].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[0].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 33\n          }, this), list[1] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"2.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[1].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[1].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 33\n          }, this), list[2] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"3.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[2].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[2].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 33\n          }, this), list[3] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[3].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[3].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 33\n          }, this), list[4] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"5.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[4].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[4].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"win5\",\n          children: [list[5] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"6.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[5].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[5].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 33\n          }, this), list[6] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"7.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[6].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[6].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 33\n          }, this), list[7] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"8.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[7].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[7].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 33\n          }, this), list[8] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"9.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[8].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[8].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 33\n          }, this), list[9] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"10.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[9].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[9].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }, this), prizeData.quantity <= list.length && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleConfirmation,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 55\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n_s(Page3, \"5IqxxtLb1FdfX8e57dH/GYzxKbo=\", false, function () {\n  return [useParams];\n});\n_c = Page3;\nexport default Page3;\nvar _c;\n$RefreshReg$(_c, \"Page3\");","map":{"version":3,"names":["React","useState","useEffect","useParams","ToastContainer","toast","Header","jsxDEV","_jsxDEV","Page3","_s","loading","setLoading","data","setData","isStopped","setIsStopped","id","currentIdIndex","setCurrentIdIndex","list","setList","concatenatedString","setConcatenatedString","availableIndexes","setAvailableIndexes","currentAvailableIndex","setCurrentAvailableIndex","loaded","setLoaded","prizeData","setPrizeData","handleConfirmation","isConfirmed","window","confirm","console","log","fetchPrizeData","response","fetch","ok","Error","prize","json","members","length","error","message","fetchData","result","Array","from","_","index","intervalId","setInterval","randomIndex","Math","floor","random","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","updateData","memberId","prizeId","method","headers","delay","milliseconds","Promise","resolve","setTimeout","handleConcatenate","quantity","prevList","prevIndexes","newIndexes","splice","className","prizeName","prizeDescription","src","imageLink","memberName","phoneNumber","onClick","map","item","_c","$RefreshReg$"],"sources":["C:/Users/Hii/Desktop/Manager/manager/src/components/Page3.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport './css/Page3.css';\r\nimport Header from './Header';\r\n\r\n\r\nconst Page3 = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [data, setData] = useState([]);\r\n    const [isStopped, setIsStopped] = useState(false);\r\n    const { id } = useParams();\r\n    const [currentIdIndex, setCurrentIdIndex] = useState(0);\r\n    const [list, setList] = useState([]);\r\n    const [concatenatedString, setConcatenatedString] = useState('');\r\n    const [availableIndexes, setAvailableIndexes] = useState([]); // Mảng lưu trữ các index có sẵn\r\n    const [currentAvailableIndex, setCurrentAvailableIndex] = useState(0);\r\n    const [loaded, setLoaded] = useState(false); // Biến đánh dấu đã tải dữ liệu hay chưa\r\n    const [prizeData, setPrizeData] = useState(null);\r\n\r\n    const handleConfirmation = () => {\r\n        const isConfirmed = window.confirm('Bạn có chắc chắn muốn tiếp tục không?');\r\n\r\n        if (isConfirmed) {\r\n            console.log('Người dùng đã xác nhận.');\r\n        } else {\r\n            console.log('Người dùng đã hủy bỏ.');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchPrizeData = async () => {\r\n            try {\r\n                const response = await fetch('https://lotteryapi20231223201647.azurewebsites.net/api/Prize/' + id); // Thay đổi URL của API theo đúng đường dẫn của bạn\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to fetch prize data');\r\n                }\r\n\r\n                const prize = await response.json();\r\n                await setPrizeData(prize);\r\n                if (prize.members.length > 0) {\r\n                    setList(prize.members);\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error('Error fetching prize data:', error.message);\r\n            }\r\n        };\r\n\r\n        fetchPrizeData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Chỉ tải dữ liệu nếu loaded là false\r\n        if (!loaded) {\r\n            const fetchData = async () => {\r\n                try {\r\n                    const response = await fetch('https://lotteryapi20231223201647.azurewebsites.net//api/Member/TestSheet');\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to fetch data');\r\n                    }\r\n                    const result = await response.json();\r\n                    setData(result);\r\n                    setAvailableIndexes(Array.from({ length: result.length }, (_, index) => index));\r\n                    setLoaded(true); // Đặt loaded thành true sau khi tải dữ liệu\r\n\r\n                } catch (error) {\r\n                    console.error('Error fetching data:', error.message);\r\n                }\r\n            }\r\n\r\n            fetchData();\r\n        }\r\n    }, [loaded]);\r\n\r\n    useEffect(() => {\r\n        // Tạo interval để chuyển đổi id mỗi giây\r\n        const intervalId = setInterval(() => {\r\n            if (availableIndexes.length > 0) {\r\n                const randomIndex = Math.floor(Math.random() * availableIndexes.length);\r\n                setCurrentIdIndex(availableIndexes[randomIndex]);\r\n                setCurrentAvailableIndex(randomIndex);\r\n            } else {\r\n                setAvailableIndexes(Array.from({ length: data.length }, (_, index) => index));\r\n            }\r\n        }, 100);\r\n\r\n        return () => clearInterval(intervalId);\r\n    }, [availableIndexes]);\r\n    if (!prizeData) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    const updateData = async (memberId, prizeId) => {\r\n        try {\r\n            const response = await fetch(`https://lotteryapi20231223201647.azurewebsites.net//api/Prize/${memberId}/${prizeId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to update data');\r\n            }\r\n            console.log('Data updated successfully');\r\n        } catch (error) {\r\n            console.error('Error updating data:', error.message);\r\n        }\r\n    };\r\n    const delay = (milliseconds) => new Promise(resolve => setTimeout(resolve, milliseconds));\r\n    const handleConcatenate = async () => {\r\n        setLoading(true);\r\n        if (list.length < prizeData.quantity) {\r\n            await setList(prevList => [...prevList, data[currentIdIndex],]);\r\n            await updateData(data[currentIdIndex].id, id);\r\n            await setAvailableIndexes(prevIndexes => {\r\n                const newIndexes = [...prevIndexes];\r\n                newIndexes.splice(currentAvailableIndex, 1);\r\n                return newIndexes;\r\n            });\r\n            const randomIndex = Math.floor(Math.random() * availableIndexes.length);\r\n            await setCurrentIdIndex(availableIndexes[randomIndex]);\r\n            await setCurrentAvailableIndex(randomIndex);\r\n        } else {\r\n            toast('Đã đủ giải thưởng');\r\n        }\r\n        setLoading(false);\r\n    };\r\n    // if (prizeData.quantity === prizeData.members.length) {\r\n    //     return (\r\n    //         <div className='bodyPage3'>\r\n    //             <Header />\r\n    //             <div className='mainPage3'>\r\n    //                 <h2>Số phần thưởng đã hết</h2>\r\n    //             </div>\r\n    //         </div>\r\n    //     );\r\n    // } else\r\n\r\n    return (\r\n        <div className='bodyPage3'>\r\n            <ToastContainer />\r\n            <Header />\r\n            <div className='mainPage3'>\r\n                {prizeData.quantity <= list.length && <div className='divcao' />}\r\n                <h2 className='h21giai'>{prizeData.prizeName}</h2>\r\n                <h3>{prizeData.prizeDescription} (Số lượng: {prizeData.quantity})</h3>\r\n                <img className='imgPrize' src={prizeData.imageLink} />\r\n                {prizeData.quantity > list.length && <p>{data.length > 0 && data[currentIdIndex].memberName} - {data.length > 0 && data[currentIdIndex].phoneNumber}</p>}\r\n                {!loading && prizeData.quantity > list.length && <button onClick={handleConcatenate}>Dừng</button>}\r\n                {loading && prizeData.quantity > list.length && <button>Dừng</button>}\r\n                {prizeData.quantity < 5 && prizeData.quantity > list.length && <div className='listWin'>\r\n                    <ul>\r\n                        {list.map((item, index) => (\r\n                            <li key={index.id}>\r\n                                <div className='listwindiv'>\r\n                                    <h5 className='sttlw'>{index + 1}</h5>\r\n                                    <h5 className='namelw'>{item.memberName}</h5>\r\n                                    <h5>{item.phoneNumber}</h5>\r\n                                </div>\r\n                            </li>\r\n                        ))\r\n                        }\r\n                    </ul>\r\n                </div>}\r\n                {prizeData.quantity < 5 && prizeData.quantity <= list.length && <div className='listWinec'>\r\n                    <ul>\r\n                        {list.map((item, index) => (\r\n                            <li key={index.id}>\r\n                                <div className='listwindiv'>\r\n                                    <h5 className='sttlw'>{index + 1}</h5>\r\n                                    <h5 className='namelw'>{item.memberName}</h5>\r\n                                    <h5>{item.phoneNumber}</h5>\r\n                                </div>\r\n                            </li>\r\n                        ))\r\n                        }\r\n                    </ul>\r\n                </div>}\r\n\r\n                {prizeData.quantity > 5 &&\r\n                    <div className='win10'>\r\n                        <div className='win5'>\r\n                            {list[0] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>1.</h1>\r\n                                    <h1 className='win1ten'>{list[0].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[0].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[1] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>2.</h1>\r\n                                    <h1 className='win1ten'>{list[1].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[1].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[2] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>3.</h1>\r\n                                    <h1 className='win1ten'>{list[2].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[2].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[3] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>4.</h1>\r\n                                    <h1 className='win1ten'>{list[3].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[3].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[4] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>5.</h1>\r\n                                    <h1 className='win1ten'>{list[4].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[4].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div className='win5'>\r\n                            {list[5] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>6.</h1>\r\n                                    <h1 className='win1ten'>{list[5].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[5].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[6] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>7.</h1>\r\n                                    <h1 className='win1ten'>{list[6].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[6].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[7] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>8.</h1>\r\n                                    <h1 className='win1ten'>{list[7].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[7].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[8] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>9.</h1>\r\n                                    <h1 className='win1ten'>{list[8].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[8].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[9] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>10.</h1>\r\n                                    <h1 className='win1ten'>{list[9].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[9].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {prizeData.quantity <= list.length && <button onClick={handleConfirmation}>Reset</button>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Page3;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}