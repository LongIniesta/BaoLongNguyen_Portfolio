{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hii\\\\Desktop\\\\Backup_Manager\\\\manager\\\\src\\\\components\\\\Page3.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport './css/Page3.css';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Page3 = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [isStopped, setIsStopped] = useState(false);\n  const {\n    id\n  } = useParams();\n  const [currentIdIndex, setCurrentIdIndex] = useState(0);\n  const [list, setList] = useState([]);\n  const [concatenatedString, setConcatenatedString] = useState('');\n  const [availableIndexes, setAvailableIndexes] = useState([]); // Mảng lưu trữ các index có sẵn\n  const [currentAvailableIndex, setCurrentAvailableIndex] = useState(0);\n  const [loaded, setLoaded] = useState(false); // Biến đánh dấu đã tải dữ liệu hay chưa\n  const [prizeData, setPrizeData] = useState(null);\n  const handleConfirmation = async () => {\n    const isConfirmed = window.confirm('Bạn có chắc chắn muốn reset không?');\n    if (isConfirmed) {\n      await resetData(id);\n      window.location.reload();\n    } else {}\n  };\n  useEffect(() => {\n    const fetchPrizeData = async () => {\n      try {\n        const response = await fetch('https://lotteryapi20240124145714.azurewebsites.net/api/Prize/' + id); // Thay đổi URL của API theo đúng đường dẫn của bạn\n        if (!response.ok) {\n          throw new Error('Failed to fetch prize data');\n        }\n        const prize = await response.json();\n        await setPrizeData(prize);\n        if (prize.members.length > 0) {\n          setList(prize.members);\n        }\n      } catch (error) {\n        console.error('Error fetching prize data:', error.message);\n      }\n    };\n    fetchPrizeData();\n  }, []);\n  useEffect(() => {\n    // Chỉ tải dữ liệu nếu loaded là false\n    if (!loaded) {\n      const fetchData = async () => {\n        try {\n          const response = await fetch('https://lotteryapi20240124145714.azurewebsites.net/api/Member/TestSheet');\n          if (!response.ok) {\n            throw new Error('Failed to fetch data');\n          }\n          const result = await response.json();\n          setData(result);\n          setAvailableIndexes(Array.from({\n            length: result.length\n          }, (_, index) => index));\n          setLoaded(true); // Đặt loaded thành true sau khi tải dữ liệu\n        } catch (error) {\n          console.error('Error fetching data:', error.message);\n        }\n      };\n      fetchData();\n    }\n  }, [loaded]);\n  useEffect(() => {\n    // Tạo interval để chuyển đổi id mỗi giây\n    const intervalId = setInterval(() => {\n      if (availableIndexes.length > 0) {\n        const randomIndex = Math.floor(Math.random() * availableIndexes.length);\n        setCurrentIdIndex(availableIndexes[randomIndex]);\n        setCurrentAvailableIndex(randomIndex);\n      } else {\n        setAvailableIndexes(Array.from({\n          length: data.length\n        }, (_, index) => index));\n      }\n    }, 100);\n    return () => clearInterval(intervalId);\n  }, [availableIndexes]);\n  if (!prizeData) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }, this);\n  }\n  const updateData = async (memberId, prizeId) => {\n    try {\n      const response = await fetch(`https://lotteryapi20240124145714.azurewebsites.net/api/Prize/${memberId}/${prizeId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update data');\n      }\n      console.log('Data updated successfully');\n    } catch (error) {\n      console.error('Error updating data:', error.message);\n    }\n  };\n  const resetData = async prizeId => {\n    try {\n      const response = await fetch(`https://lotteryapi20240124145714.azurewebsites.net/api/Prize/${prizeId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update data');\n      }\n      console.log('Data updated successfully');\n    } catch (error) {\n      console.error('Error updating data:', error.message);\n    }\n  };\n  const delay = milliseconds => new Promise(resolve => setTimeout(resolve, milliseconds));\n  const handleConcatenate = async () => {\n    setLoading(true);\n    if (list.length < prizeData.quantity) {\n      await setList(prevList => [...prevList, data[currentIdIndex]]);\n      await updateData(data[currentIdIndex].id, id);\n      await setAvailableIndexes(prevIndexes => {\n        const newIndexes = [...prevIndexes];\n        newIndexes.splice(currentAvailableIndex, 1);\n        return newIndexes;\n      });\n      const randomIndex = Math.floor(Math.random() * availableIndexes.length);\n      await setCurrentIdIndex(availableIndexes[randomIndex]);\n      await setCurrentAvailableIndex(randomIndex);\n    } else {\n      toast('Đã đủ giải thưởng');\n    }\n    setLoading(false);\n  };\n  // if (prizeData.quantity === prizeData.members.length) {\n  //     return (\n  //         <div className='bodyPage3'>\n  //             <Header />\n  //             <div className='mainPage3'>\n  //                 <h2>Số phần thưởng đã hết</h2>\n  //             </div>\n  //         </div>\n  //     );\n  // } else\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bodyPage3\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainPage3\",\n      children: [prizeData.quantity <= list.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divcao\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 55\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"h21giai\",\n        children: prizeData.prizeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [prizeData.prizeDescription, \" (S\\u1ED1 l\\u01B0\\u1EE3ng: \", prizeData.quantity, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"imgPrize\",\n        src: prizeData.imageLink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [data.length > 0 && data[currentIdIndex].memberName, \" - \", data.length > 0 && data[currentIdIndex].phoneNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 54\n      }, this), !loading && prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleConcatenate,\n        children: \"D\\u1EEBng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 66\n      }, this), loading && prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"D\\u1EEBng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 65\n      }, this), prizeData.quantity < 5 && prizeData.quantity > list.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listWin\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: list.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"listwindiv\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"sttlw\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"namelw\",\n                children: item.memberName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: item.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 33\n            }, this)\n          }, index.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 80\n      }, this), prizeData.quantity < 5 && prizeData.quantity <= list.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listWinec\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: list.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"listwindiv\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"sttlw\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"namelw\",\n                children: item.memberName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: item.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 33\n            }, this)\n          }, index.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 81\n      }, this), prizeData.quantity > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"win10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"win5\",\n          children: [list[0] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"1.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[0].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[0].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 33\n          }, this), list[1] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"2.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[1].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[1].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 33\n          }, this), list[2] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"3.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[2].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[2].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 33\n          }, this), list[3] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[3].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[3].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 33\n          }, this), list[4] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"5.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[4].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[4].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"win5\",\n          children: [list[5] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"6.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[5].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[5].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 33\n          }, this), list[6] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"7.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[6].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[6].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 33\n          }, this), list[7] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"8.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[7].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[7].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 33\n          }, this), list[8] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1l\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"9.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[8].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[8].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 33\n          }, this), list[9] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"win1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1stt\",\n              children: \"10.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1ten\",\n              children: list[9].memberName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"win1phongban\",\n              children: list[9].phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }, this), prizeData.quantity <= list.length && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnReset\",\n        onClick: handleConfirmation,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 55\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 9\n  }, this);\n};\n_s(Page3, \"5IqxxtLb1FdfX8e57dH/GYzxKbo=\", false, function () {\n  return [useParams];\n});\n_c = Page3;\nexport default Page3;\nvar _c;\n$RefreshReg$(_c, \"Page3\");","map":{"version":3,"names":["React","useState","useEffect","useParams","ToastContainer","toast","Header","jsxDEV","_jsxDEV","Page3","_s","loading","setLoading","data","setData","isStopped","setIsStopped","id","currentIdIndex","setCurrentIdIndex","list","setList","concatenatedString","setConcatenatedString","availableIndexes","setAvailableIndexes","currentAvailableIndex","setCurrentAvailableIndex","loaded","setLoaded","prizeData","setPrizeData","handleConfirmation","isConfirmed","window","confirm","resetData","location","reload","fetchPrizeData","response","fetch","ok","Error","prize","json","members","length","error","console","message","fetchData","result","Array","from","_","index","intervalId","setInterval","randomIndex","Math","floor","random","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","updateData","memberId","prizeId","method","headers","log","delay","milliseconds","Promise","resolve","setTimeout","handleConcatenate","quantity","prevList","prevIndexes","newIndexes","splice","className","prizeName","prizeDescription","src","imageLink","memberName","phoneNumber","onClick","map","item","_c","$RefreshReg$"],"sources":["C:/Users/Hii/Desktop/Backup_Manager/manager/src/components/Page3.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport './css/Page3.css';\r\nimport Header from './Header';\r\n\r\n\r\nconst Page3 = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [data, setData] = useState([]);\r\n    const [isStopped, setIsStopped] = useState(false);\r\n    const { id } = useParams();\r\n    const [currentIdIndex, setCurrentIdIndex] = useState(0);\r\n    const [list, setList] = useState([]);\r\n    const [concatenatedString, setConcatenatedString] = useState('');\r\n    const [availableIndexes, setAvailableIndexes] = useState([]); // Mảng lưu trữ các index có sẵn\r\n    const [currentAvailableIndex, setCurrentAvailableIndex] = useState(0);\r\n    const [loaded, setLoaded] = useState(false); // Biến đánh dấu đã tải dữ liệu hay chưa\r\n    const [prizeData, setPrizeData] = useState(null);\r\n\r\n    const handleConfirmation = async () => {\r\n        const isConfirmed = window.confirm('Bạn có chắc chắn muốn reset không?');\r\n\r\n        if (isConfirmed) {\r\n            await resetData(id);\r\n            window.location.reload();\r\n        } else {\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchPrizeData = async () => {\r\n            try {\r\n                const response = await fetch('https://lotteryapi20240124145714.azurewebsites.net/api/Prize/' + id); // Thay đổi URL của API theo đúng đường dẫn của bạn\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to fetch prize data');\r\n                }\r\n\r\n                const prize = await response.json();\r\n                await setPrizeData(prize);\r\n                if (prize.members.length > 0) {\r\n                    setList(prize.members);\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error('Error fetching prize data:', error.message);\r\n            }\r\n        };\r\n\r\n        fetchPrizeData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Chỉ tải dữ liệu nếu loaded là false\r\n        if (!loaded) {\r\n            const fetchData = async () => {\r\n                try {\r\n                    const response = await fetch('https://lotteryapi20240124145714.azurewebsites.net/api/Member/TestSheet');\r\n                    if (!response.ok) {\r\n                        throw new Error('Failed to fetch data');\r\n                    }\r\n                    const result = await response.json();\r\n                    setData(result);\r\n                    setAvailableIndexes(Array.from({ length: result.length }, (_, index) => index));\r\n                    setLoaded(true); // Đặt loaded thành true sau khi tải dữ liệu\r\n\r\n                } catch (error) {\r\n                    console.error('Error fetching data:', error.message);\r\n                }\r\n            }\r\n\r\n            fetchData();\r\n        }\r\n    }, [loaded]);\r\n\r\n    useEffect(() => {\r\n        // Tạo interval để chuyển đổi id mỗi giây\r\n        const intervalId = setInterval(() => {\r\n            if (availableIndexes.length > 0) {\r\n                const randomIndex = Math.floor(Math.random() * availableIndexes.length);\r\n                setCurrentIdIndex(availableIndexes[randomIndex]);\r\n                setCurrentAvailableIndex(randomIndex);\r\n            } else {\r\n                setAvailableIndexes(Array.from({ length: data.length }, (_, index) => index));\r\n            }\r\n        }, 100);\r\n\r\n        return () => clearInterval(intervalId);\r\n    }, [availableIndexes]);\r\n    if (!prizeData) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    const updateData = async (memberId, prizeId) => {\r\n        try {\r\n            const response = await fetch(`https://lotteryapi20240124145714.azurewebsites.net/api/Prize/${memberId}/${prizeId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to update data');\r\n            }\r\n            console.log('Data updated successfully');\r\n        } catch (error) {\r\n            console.error('Error updating data:', error.message);\r\n        }\r\n    };\r\n\r\n    const resetData = async (prizeId) => {\r\n        try {\r\n            const response = await fetch(`https://lotteryapi20240124145714.azurewebsites.net/api/Prize/${prizeId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to update data');\r\n            }\r\n            console.log('Data updated successfully');\r\n        } catch (error) {\r\n            console.error('Error updating data:', error.message);\r\n        }\r\n    };\r\n\r\n\r\n    const delay = (milliseconds) => new Promise(resolve => setTimeout(resolve, milliseconds));\r\n    const handleConcatenate = async () => {\r\n        setLoading(true);\r\n        if (list.length < prizeData.quantity) {\r\n            await setList(prevList => [...prevList, data[currentIdIndex],]);\r\n            await updateData(data[currentIdIndex].id, id);\r\n            await setAvailableIndexes(prevIndexes => {\r\n                const newIndexes = [...prevIndexes];\r\n                newIndexes.splice(currentAvailableIndex, 1);\r\n                return newIndexes;\r\n            });\r\n            const randomIndex = Math.floor(Math.random() * availableIndexes.length);\r\n            await setCurrentIdIndex(availableIndexes[randomIndex]);\r\n            await setCurrentAvailableIndex(randomIndex);\r\n        } else {\r\n            toast('Đã đủ giải thưởng');\r\n        }\r\n        setLoading(false);\r\n    };\r\n    // if (prizeData.quantity === prizeData.members.length) {\r\n    //     return (\r\n    //         <div className='bodyPage3'>\r\n    //             <Header />\r\n    //             <div className='mainPage3'>\r\n    //                 <h2>Số phần thưởng đã hết</h2>\r\n    //             </div>\r\n    //         </div>\r\n    //     );\r\n    // } else\r\n\r\n    return (\r\n        <div className='bodyPage3'>\r\n            <ToastContainer />\r\n            <Header />\r\n            <div className='mainPage3'>\r\n                {prizeData.quantity <= list.length && <div className='divcao' />}\r\n                <h2 className='h21giai'>{prizeData.prizeName}</h2>\r\n                <h3>{prizeData.prizeDescription} (Số lượng: {prizeData.quantity})</h3>\r\n                <img className='imgPrize' src={prizeData.imageLink} />\r\n                {prizeData.quantity > list.length && <p>{data.length > 0 && data[currentIdIndex].memberName} - {data.length > 0 && data[currentIdIndex].phoneNumber}</p>}\r\n                {!loading && prizeData.quantity > list.length && <button onClick={handleConcatenate}>Dừng</button>}\r\n                {loading && prizeData.quantity > list.length && <button>Dừng</button>}\r\n                {prizeData.quantity < 5 && prizeData.quantity > list.length && <div className='listWin'>\r\n                    <ul>\r\n                        {list.map((item, index) => (\r\n                            <li key={index.id}>\r\n                                <div className='listwindiv'>\r\n                                    <h5 className='sttlw'>{index + 1}</h5>\r\n                                    <h5 className='namelw'>{item.memberName}</h5>\r\n                                    <h5>{item.phoneNumber}</h5>\r\n                                </div>\r\n                            </li>\r\n                        ))\r\n                        }\r\n                    </ul>\r\n                </div>}\r\n                {prizeData.quantity < 5 && prizeData.quantity <= list.length && <div className='listWinec'>\r\n                    <ul>\r\n                        {list.map((item, index) => (\r\n                            <li key={index.id}>\r\n                                <div className='listwindiv'>\r\n                                    <h5 className='sttlw'>{index + 1}</h5>\r\n                                    <h5 className='namelw'>{item.memberName}</h5>\r\n                                    <h5>{item.phoneNumber}</h5>\r\n                                </div>\r\n                            </li>\r\n                        ))\r\n                        }\r\n                    </ul>\r\n                </div>}\r\n\r\n                {prizeData.quantity > 5 &&\r\n                    <div className='win10'>\r\n                        <div className='win5'>\r\n                            {list[0] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>1.</h1>\r\n                                    <h1 className='win1ten'>{list[0].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[0].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[1] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>2.</h1>\r\n                                    <h1 className='win1ten'>{list[1].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[1].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[2] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>3.</h1>\r\n                                    <h1 className='win1ten'>{list[2].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[2].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[3] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>4.</h1>\r\n                                    <h1 className='win1ten'>{list[3].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[3].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[4] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>5.</h1>\r\n                                    <h1 className='win1ten'>{list[4].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[4].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <div className='win5'>\r\n                            {list[5] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>6.</h1>\r\n                                    <h1 className='win1ten'>{list[5].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[5].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[6] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>7.</h1>\r\n                                    <h1 className='win1ten'>{list[6].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[6].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[7] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>8.</h1>\r\n                                    <h1 className='win1ten'>{list[7].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[7].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[8] &&\r\n                                <div className='win1l'>\r\n                                    <h1 className='win1stt'>9.</h1>\r\n                                    <h1 className='win1ten'>{list[8].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[8].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                            {list[9] &&\r\n                                <div className='win1'>\r\n                                    <h1 className='win1stt'>10.</h1>\r\n                                    <h1 className='win1ten'>{list[9].memberName}</h1>\r\n                                    <h1 className='win1phongban'>{list[9].phoneNumber}</h1>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {prizeData.quantity <= list.length && <button className='btnReset' onClick={handleConfirmation}>Reset</button>}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Page3;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}